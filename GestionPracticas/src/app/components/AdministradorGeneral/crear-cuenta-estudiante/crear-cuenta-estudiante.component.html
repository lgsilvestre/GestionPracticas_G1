<mat-card>
    <mat-card-title>Crear cuenta de estudiante</mat-card-title>
    <mat-card-content>
        <form [formGroup]="estudiante" (ngSubmit)="crear()">
            <ng-template matStepLabel>Datos</ng-template>
            <mat-form-field appearance="outline">
                <mat-label>Nombres</mat-label>
                <input matInput placeholder="Primer y segundo nombre" formControlName="Nombres" required>
                <mat-error *ngIf="estudiante.controls.Nombres.hasError('required') && !estudiante.controls.Nombres.hasError('pattern')">Campo obligatorio</mat-error>
                <mat-error *ngIf="!estudiante.controls.Nombres.hasError('required') && estudiante.controls.Nombres.hasError('pattern')">El campo contiene caracteres no válidos</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Apellidos</mat-label>
                <input matInput placeholder="Apellido paterno y materno" formControlName="Apellidos" required>
                <mat-error *ngIf="estudiante.controls.Apellidos.hasError('required') && !estudiante.controls.Apellidos.hasError('pattern')">Campo obligatorio</mat-error>
                <mat-error *ngIf="!estudiante.controls.Apellidos.hasError('required') && estudiante.controls.Apellidos.hasError('pattern')">El campo contiene caracteres no válidos</mat-error>            
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>RUT</mat-label>
                <input matInput placeholder="RUT (sin puntos ni digito v.)" formControlName="Run" required>
                <mat-error *ngIf="estudiante.controls.Run.hasError('required')">Campo obligatorio</mat-error>
                <mat-error *ngIf="estudiante.controls.Run.hasError('min') || estudiante.controls.Run.hasError('max') || estudiante.controls.Run.hasError('pattern')">
                    Formato de Rut no válido, ej. formato válido: 18111222
                </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Carrera</mat-label>
                <mat-select formControlName="Carrera" [ngModel]="carreraActual" (ngModelChange)="onChangeCarrera($event)" required>
                    <mat-option>None</mat-option>
                    <mat-option *ngFor="let carrera of carreras" [value]="carrera">{{carrera}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Número de matrícula</mat-label>
                <input matInput placeholder="2014407000" formControlName="NumeroMatricula">
                <mat-error *ngIf="estudiante.controls.NumeroMatricula.hasError('required') && !estudiante.controls.NumeroMatricula.hasError('pattern')">Campo obligatorio</mat-error>
                <mat-error *ngIf="!estudiante.controls.NumeroMatricula.hasError('required') && estudiante.controls.NumeroMatricula.hasError('pattern')">Valor no válido</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Correo Electrónico (institucional)</mat-label>
                <input matInput placeholder="usuario@utalca.cl" formControlName="CorreoInstitucional" required>
                <mat-icon matSuffix>email</mat-icon>
                
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Situación actual</mat-label>
                <input matInput placeholder="Regular" formControlName="SituacionActual" required>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Teléfono</mat-label>
                <input matInput placeholder="+5601234567" formControlName="Telefono" required>
                <mat-icon matSuffix>phone</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Contraseña</mat-label>
                <input type="password" matInput placeholder="Contraseña preliminar" formControlName="Contrasenna1">
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Repita su contraseña</mat-label>
                <input type="password" matInput placeholder="Contraseña preliminar" formControlName="Contrasenna2">
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Rol</mat-label>
                <input matInput formControlName="rol">
            </mat-form-field>
            <mat-divider></mat-divider>
            <div class="submit-button">
                <button mat-raised-button color="primary" type="submit" >Crear cuenta</button>
            </div>
        </form>
    </mat-card-content>
</mat-card>